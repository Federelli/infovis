<html>
<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>TP2</title>
</head>
<body>
	<script type="text/javascript">

		//Width and height
		var w = 900;
		var h = 500;
		var barPadding = 4;
		var baseColor= 210;
		var heightModifier = 5;
		var bottomPadding = 15;
		
		var dataset = [ 88, 8, 4, 66, 22, 12, 63, 24, 13, 57, 33, 10, 50, 35, 15, 5, 9, 86];
		
		//Create SVG element
		var svg = d3.select("body")
					.append("svg")
					.attr("width", w)
					.attr("height", h);

		svg.selectAll("rect")
			.data(dataset)
			.enter()
			.append("rect")
			.attr("x", function(d, i) {
				return i * (w / dataset.length);
			})
			.attr("y", function(d) {
				return (h - bottomPadding) - (d * heightModifier);
			})
			.attr("width", w / dataset.length - barPadding)
			.attr("height", function(d) {
				return d * heightModifier;
			})
			.attr("fill", function(d, i) {
				if (i%3 == 0){
					return "rgb(50," + baseColor + ",50)"
				} else if (i%3 == 1) {
					return "rgb(200, 200, 200)";
				} else {
					return "rgb(" + baseColor + ", 50, 50)";
				}
			});
		svg.selectAll("text")
			.data(dataset)
			.enter()
			.append("text")
			.text(function(d) {
				return d;
			})
			.attr("x", function(d, i) {
				return i * (w / dataset.length) + (w / dataset.length - barPadding) / 2;
			})
			.attr("y", function(d) {
				return h;
			})
			.attr("font-family", "sans-serif")
			.attr("font-size", "11px")
			.attr("fill", "black")
			.attr("text-anchor", "middle");
	</script>
</body>
</html>